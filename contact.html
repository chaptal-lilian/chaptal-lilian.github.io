<!DOCTYPE html>
<html>
    <head>
            <title>Marie-Christine Niel</title>
            <meta content="text/html;charset=utf-8" http-equiv="Content-Type">
            <link rel="stylesheet" href="contact_css.css" type="text/css" media="all" />
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
            <link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.1/dist/leaflet.css" integrity="sha512-Rksm5RenBEKSKFjgI3a41vrjkw4EVPlJ3+OiI65vTjIdo9brlAacEuKOiQ5OFh7cOI1bkDwLqdLw3Zg0cRJAAQ==" crossorigin="" />
            <!-- bibliotheque pour la carte sur openstreetmap -->
    </head>
    <body>
        <div class="container">
                <div class="header">
                        <div class="image-contain">
                          <a href="https://chaptal-lilian.github.io"><img src="logo1.jpg" alt="Logo" class="logo"></a>
                          <div class="text-contain">
                            <p>Marie-Christine Niel</p>
                          </div>
                        </div>  
                        <h3 
                          class="main_title" data-lang='{"fr": "Pépiniériste viticole, producteur de boutures greffables et de greffons",
                          "eng" : "Vineyard nurseryman, producer of graftable cuttings and scions",
                          "esp" : "Viverista de viñedos, productor de esquejes y vástagos injertables", 
                          "ita" : "Vignaiolo, produttore di talee innestabili e marze"}'>
                          Pépiniériste viticole, producteur de boutures greffables et greffons
                        </h3>
                        <div class="language-menu">
                                <ul>
                                  <li><a href="" class="active" onclick="changeLanguage('fr')">FR</a></li>
                                  <li><a href="" onclick="changeLanguage('eng')">ENG</a></li>
                                  <li><a href="" onclick="changeLanguage('esp')">ESP</a></li>
                                  <li><a href="" onclick="changeLanguage('ita')">ITA</a></li>
                                </ul>
                        </div> 
                </div>
                <div class="menu_container">
                        <ul class="menu">
                                <li class="menu-item"><a href="https://chaptal-lilian.github.io" data-lang='{"fr": "Accueil",
                                  "eng" : "Home", "esp" : "Bienvenida", "ita" : "Accoglienza"}'>Accueil</a></li>
                                <li class="menu-item has-dropdown"><a href="" data-lang='{"fr" : "Nos produits", 
                                "eng" : "Our products", "esp" : "Nuestros productos", "ita" : "I nostri prodotti"}'>Nos produits</a>    
                                        <ul class="dropdown-menu">
                                                <li><a href="" data-lang='{"fr" : "Boutures greffables",
                                                "eng" : "Graftable cuttings", "esp" : "Esquejes injertables", 
                                                "ita" : "Talee innestabili"}'>Boutures greffables</a></li>
                                                <li><a href="" data-lang='{"fr" : "Boutures greffons",
                                                  "eng" : "Graft cuttings", "esp" : "Esquejes de injerto", 
                                                  "ita" : "Talee di innesto"}'>Boutures greffons</a></li>
                                        </ul>    
                                </li>                      
                              <li class="menu-item"><a href="" data-lang='{"fr" : "Histoire",
                                        "eng" : "History", "esp" : "Historia", "ita" : "Storia"}'>Histoire</a></li>
                              <li class="menu-item"><a href="" data-lang='{"fr" : "Nos variétés",
                                        "eng" : "Our varieties", "esp" : "Nuestras variedades", "ita" : "Le nostre varietà"}'>Nos variétés</a></li>
                              <li class="menu-item"><a href="contact.html" data-lang='{"fr" : "Nous contacter",
                                        "eng" : "Contact us", "esp" : "Contáctenos", "ita" : "Contattaci"}'>Nous contacter</a></li>
                        </ul>
                </div>  
        </div>  
        <!-- nouveaux éléments par rapport à la page de base .............................................................................................................................................; -->
        <div class="contain_contact">
        <div id="map">
        </div>
        <div class="contact-form">
            <h3>Contactez-nous :</h3>
            <div class="error-message"></div>
            <div class="success-message"></div>
            <form action="https://formspree.io/f/xdovrpwk" method="POST" target="_blank" id="contactForm">

                <label for="fname">Prénom :</label>
                <input type="text" id="fname" name="fname" placeholder="Votre prénom" required>

                <label for="lname">Nom :</label>
                <input type="text" id="lname" name="lname" placeholder="Votre nom" required>

                <label for="phone">Téléphone :</label>
                <input type="tel" id="phone" name="phone" placeholder="Votre numéro de téléphone" required>

                <label for="company">Nom de l'entreprise :</label>
                <input type="text" id="company" name="company" placeholder="Le nom de l'entreprise" required>
                <label>Adresse mail:<input type="email" name="email" placeholder="Votre adresse mail"></label>

                <label>Message:<textarea name="message" id="message" placeholder="Votre message..."></textarea></label>

                <button type="submit" id="bouton-envoyer">Envoyer</button>
            </form>
        </div>
        </div>



<script src="https://unpkg.com/leaflet@1.3.1/dist/leaflet.js" integrity="sha512-/Nsx9X4HebavoBvEBuyp3I7od5tA0UzAxs+j83KgC8PU0kgB4XiK4Lfe4y4cgBtaRJQEIFCW+oC506aPT2L1zw==" crossorigin=""></script>
<script type="text/javascript">
    var lat = 44.052125264454254;
    var lon = 4.081254071164483; 
    var macarte = null;
    function initMap() {
                // Créer l'objet "macarte" et l'insèrer dans l'élément HTML qui a l'ID "map"
                macarte = L.map('map').setView([lat, lon], 12);
                // Leaflet ne récupère pas les cartes (tiles) sur un serveur par défaut. Nous devons lui préciser où nous souhaitons les récupérer. Ici, openstreetmap.fr
                L.tileLayer('https://{s}.tile.openstreetmap.fr/osmfr/{z}/{x}/{y}.png', {
                    // Il est toujours bien de laisser le lien vers la source des données
                    attribution: 'données © <a href="//osm.org/copyright">OpenStreetMap</a>/ODbL - rendu <a href="//openstreetmap.fr">OSM France</a>',
                    minZoom: 1,
                    maxZoom: 20
                }).addTo(macarte);
                var marker = L.marker([lat, lon]).addTo(macarte); //marqueur de position
            }
            window.onload = function(){
		// Fonction d'initialisation qui s'exécute lorsque le DOM est chargé
		initMap(); 
            };
    </script>

    </body>
</html>

<script>
//vitesse de déplacement des menus déroulants
const dropdownItems = document.querySelectorAll('.has-dropdown');
let timeoutId;

dropdownItems.forEach((item) => {
  item.addEventListener('mouseover', () => {
        clearTimeout(timeoutId);
        showDropdownMenu(item);
  });

  item.addEventListener('mouseout', () => {
        timeoutId = setTimeout(() => {hideDropdownMenu(item);}, 100);
  });
});

var menuItems = document.querySelectorAll('.menu-item a');

menuItems.forEach(function(item) {
  item.addEventListener('mouseover', function() {
    this.style.color = '#008000'; /* Couleur verte foncée au survol */
  });

  item.addEventListener('mouseout', function() {
    this.style.color = 'white'; /* Retour à la couleur initiale */
  });
});

function showDropdownMenu(item) {
  // Affiche le menu déroulant
  const dropdownMenu = item.querySelector(".dropdown-menu");
  
  dropdownMenu.style.display = "block";
}
function hideDropdownMenu(item) {
  // Masque le menu déroulant
  const dropdownMenu = item.querySelector(".dropdown-menu");
  dropdownMenu.style.display = "none";
}

// changement de langue
function changeLanguage(language) {
  var elements = document.querySelectorAll('[data-lang]');

  for (var i = 0; i < elements.length; i++) {
    var element = elements[i];
    var translations = JSON.parse(element.getAttribute('data-lang'));

    if (translations.hasOwnProperty(language)) {
      element.innerText = translations[language];
    }
  }

  var links = document.querySelectorAll('.language-menu ul li a');
  for (var j = 0; j < links.length; j++) {
    links[j].classList.remove('active');
    if (links[j].textContent.toLowerCase() === language.toLowerCase()) {
      links[j].classList.add('active');
    }
  }
}
// gestion des clics du changement de language -> éviter le rafraichissement directement après
  document.addEventListener('DOMContentLoaded', function() {
  var links = document.querySelectorAll('.language-menu ul li a');
  for (var i = 0; i < links.length; i++) {
    links[i].addEventListener('click', function(e) {
      e.preventDefault();
      var language = this.getAttribute('data-lang');
      changeLanguage(language);
    });
  }
});

//gestion du décalage du texte a cause de celui du logo
const logo = document.querySelector('.logo');
const textContainer = document.querySelector('.text-contain');
const sideElements = document.querySelectorAll('.main_title');

logo.addEventListener('mouseenter', () => {
  textContainer.style.opacity = '1';
  textContainer.style.transform = 'translateX(0)';
  sideElements.forEach(element => {
    element.classList.add('shifted');
  });
});

logo.addEventListener('mouseleave', () => {
  textContainer.style.opacity = '0';
  textContainer.style.transform = 'translateX(100%)';
  sideElements.forEach(element => {
    element.classList.remove('shifted');
  });
});

// Réinitialisation du formulaire apres clic envoyer ..........................................................................
var boutonEnvoyer = document.getElementById('bouton-envoyer');

boutonEnvoyer.addEventListener('click', function() {
  // Réinitialiser les valeurs des champs de formulaire
  document.getElementById('fname').value = '';
  document.getElementById('email').value = '';
  document.getElementById('lname').value = '';
  document.getElementById('phone').value = '';
  document.getElementById('company').value = '';
  document.getElementById('message').value = '';
  // Réinitialiser les autres champs de formulaire
});

</script>
