<!DOCTYPE html>
<html>
    <head>
            <title>Marie-Christine Niel</title>
            <meta content="text/html;charset=utf-8" http-equiv="Content-Type">
            <link rel="stylesheet" href="accueil.css" type="text/css" media="all" />
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    </head>
    <body class="fade-in">
        <div class="container">
                <div class="header">
                        <div class="image-contain">
                          <a href="https://chaptal-lilian.github.io"><img src="logo1.jpg" alt="Logo" class="logo"></a>
                          <div class="text-contain">
                            <p>Marie-Christine Niel</p>
                          </div>
                        </div>  
                        <h3 
                          class="main_title" data-lang='{"fr": "Pépiniériste viticole, producteur de boutures greffables et de greffons",
                          "eng" : "Vineyard nurseryman, producer of graftable cuttings and scions",
                          "esp" : "Viverista de viñedos, productor de esquejes y vástagos injertables", 
                          "ita" : "Vignaiolo, produttore di talee innestabili e marze"}'>
                          Pépiniériste viticole, producteur de boutures greffables et greffons
                        </h3>
                        <div class="language-menu">
                                <ul>
                                  <li><a href="" class="active" onclick="changeLanguage('fr')">FR</a></li>
                                  <li><a href="" onclick="changeLanguage('eng')">ENG</a></li>
                                  <li><a href="" onclick="changeLanguage('esp')">ESP</a></li>
                                  <li><a href="" onclick="changeLanguage('ita')">ITA</a></li>
                                </ul>
                        </div> 
                </div>
                <div class="menu_container">
                        <ul class="menu">
                                <!-- Accueil --> 
                                <li class="menu-item"><a href="https://chaptal-lilian.github.io" data-lang='{"fr": "Accueil",
                                  "eng" : "Home", "esp" : "Bienvenida", "ita" : "Accoglienza"}'>Accueil</a></li>
                                <!-- Nos produits --> 
                                  <li class="menu-item has-dropdown"><a href="" data-lang='{"fr" : "Nos produits", 
                                "eng" : "Our products", "esp" : "Nuestros productos", "ita" : "I nostri prodotti"}'>Nos produits</a>    
                                        <ul class="dropdown-menu">
                                                <li><a href="" data-lang='{"fr" : "Boutures greffables",
                                                "eng" : "Graftable cuttings", "esp" : "Esquejes injertables", 
                                                "ita" : "Talee innestabili"}'>Boutures greffables</a></li>
                                                <li><a href="" data-lang='{"fr" : "Boutures greffons",
                                                  "eng" : "Graft cuttings", "esp" : "Esquejes de injerto", 
                                                  "ita" : "Talee di innesto"}'>Boutures greffons</a></li>
                                        </ul>    
                                </li>        
                              <!-- Histoire -->              
                              <li class="menu-item"><a href="" data-lang='{"fr" : "Histoire",
                                "eng" : "History", "esp" : "Historia", "ita" : "Storia"}'>Histoire</a></li>
                              <!-- Nos varietes --> 
                              <li class="menu-item"><a href="nos-varietes.html" data-lang='{"fr" : "Nos variétés",
                                "eng" : "Our varieties", "esp" : "Nuestras variedades", "ita" : "Le nostre varietà"}'>Nos variétés</a></li>
                              <!-- Nous contacter --> 
                                <li class="menu-item"><a href="nous-contacter.html" data-lang='{"fr" : "Nous contacter",
                                "eng" : "Contact us", "esp" : "Contáctenos", "ita" : "Contattaci"}'>Nous contacter</a></li>
                        </ul>
                </div>  
        </div> 
        <!-- fin du code commun a toutes les pages ............................................................--> 

    </body>
</html>

<script>
//vitesse de déplacement des menus déroulants
const dropdownItems = document.querySelectorAll('.has-dropdown');
let timeoutId;

dropdownItems.forEach((item) => {
  item.addEventListener('mouseover', () => {
        clearTimeout(timeoutId);
        showDropdownMenu(item);
  });

  item.addEventListener('mouseout', () => {
        timeoutId = setTimeout(() => {hideDropdownMenu(item);}, 100);
  });
});

var menuItems = document.querySelectorAll('.menu-item a');

menuItems.forEach(function(item) {
  item.addEventListener('mouseover', function() {
    this.style.color = '#008000'; /* Couleur verte foncée au survol */
  });

  item.addEventListener('mouseout', function() {
    this.style.color = 'white'; /* Retour à la couleur initiale */
  });
});

function showDropdownMenu(item) {
  // Affiche le menu déroulant
  const dropdownMenu = item.querySelector(".dropdown-menu");
  
  dropdownMenu.style.display = "block";
}
function hideDropdownMenu(item) {
  // Masque le menu déroulant
  const dropdownMenu = item.querySelector(".dropdown-menu");
  dropdownMenu.style.display = "none";
}

// changement de langue
function changeLanguage(language) {
  var elements = document.querySelectorAll('[data-lang]');

  for (var i = 0; i < elements.length; i++) {
    var element = elements[i];
    var translations = JSON.parse(element.getAttribute('data-lang'));

    if (translations.hasOwnProperty(language)) {
      element.innerText = translations[language];
    }
  }

  var links = document.querySelectorAll('.language-menu ul li a');
  for (var j = 0; j < links.length; j++) {
    links[j].classList.remove('active');
    if (links[j].textContent.toLowerCase() === language.toLowerCase()) {
      links[j].classList.add('active');
    }
  }
}
// gestion des clics du changement de language -> éviter le rafraichissement directement après
  document.addEventListener('DOMContentLoaded', function() {
  var links = document.querySelectorAll('.language-menu ul li a');
  for (var i = 0; i < links.length; i++) {
    links[i].addEventListener('click', function(e) {
      e.preventDefault();
      var language = this.getAttribute('data-lang');
      changeLanguage(language);
    });
  }
});

//gestion du décalage du texte a cause de celui du logo
const logo = document.querySelector('.logo');
const textContainer = document.querySelector('.text-contain');
const sideElements = document.querySelectorAll('.main_title');

logo.addEventListener('mouseenter', () => {
  textContainer.style.opacity = '1';
  textContainer.style.transform = 'translateX(0)';
  sideElements.forEach(element => {
    element.classList.add('shifted');
  });
});

logo.addEventListener('mouseleave', () => {
  textContainer.style.opacity = '0';
  textContainer.style.transform = 'translateX(100%)';
  sideElements.forEach(element => {
    element.classList.remove('shifted');
  });
});

//Transitions pages
window.addEventListener('load', function() {
  var elements = document.querySelectorAll('.fade-in');
  elements.forEach(function(element) {
    element.classList.add('fade-in');
  });
});

</script>
